š
TD:\dotnet\MVC projects\EmployeeManagementMicro\EmployeeManagementApi\AppDbContext.cs
	namespace 	!
EmployeeManagementApi
 
;  
public 
class 
AppDbContext 
: 
	DbContext %
{ 
public 

AppDbContext 
( 
DbContextOptions (
<( )
AppDbContext) 5
>5 6
options7 >
)> ?
:@ A
baseB F
(F G
optionsG N
)N O
{ 
} 
public		 

DbSet		 
<		 
employeeModel		 
>		 
	Employees		  )
{		* +
get		, /
;		/ 0
set		1 4
;		4 5
}		6 7
}

 ©L
fD:\dotnet\MVC projects\EmployeeManagementMicro\EmployeeManagementApi\Controllers\EmployeeController.cs
	namespace 	!
EmployeeManagementApi
 
.  
Controllers  +
;+ ,
[ 
ApiController 
] 
[		 
Route		 
(		 
$str		 
)		 
]		 
[

 

EnableCors

 
]

 
public 
class 
EmployeeController 
:  !
ControllerBase" 0
{ 
private 
readonly 
AppDbContext !
_context" *
;* +
public 

EmployeeController 
( 
AppDbContext *
context+ 2
)2 3
{ 
string 
name 
= 
$str 
; 
string 
age 
= 
$str 
; 
_context 
= 
context 
; 
} 
[ 
HttpGet 
] 
public 

IActionResult 
Get 
( 
) 
{ 
var 
	employees 
= 
_context  
.  !
	Employees! *
.* +
ToList+ 1
(1 2
)2 3
;3 4
return 
Ok 
( 
	employees 
) 
; 
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 
IActionResult 
GetById !
(! "
int" %
id& (
)( )
{   
var!!	 
employee!! 
=!! 
_context!!  
.!!  !
	Employees!!! *
.!!* +
Find!!+ /
(!!/ 0
id!!0 2
)!!2 3
;!!3 4
if""	 
("" 
employee"" 
=="" 
null"" 
)"" 
return## 
NotFound## 
(## 
)## 
;## 
return&&	 
Ok&& 
(&& 
employee&& 
)&& 
;&& 
}'' 
[** 
HttpPost** 
]** 
public++ 
IActionResult++ 
Create++  
(++  !
[++! "
FromBody++" *
]++* +
employeeModel++, 9
employee++: B
)++B C
{,, 
_context--	 
.-- 
	Employees-- 
.-- 
Add-- 
(--  
employee--  (
)--( )
;--) *
_context..	 
... 
SaveChanges.. 
(.. 
).. 
;..  
return//	 
CreatedAtAction// 
(//  
nameof//  &
(//& '
GetById//' .
)//. /
,/// 0
new//1 4
{//5 6
id//7 9
=//: ;
employee//< D
.//D E
Id//E G
}//H I
,//I J
employee//K S
)//S T
;//T U
}00 
[33 
HttpPut33 
(33 
$str33 
)33 
]33 
public44 
IActionResult44 
Update44  
(44  !
int44! $
id44% '
,44' (
[44) *
FromBody44* 2
]442 3
employeeModel444 A
updatedEmployee44B Q
)44Q R
{55 
var66	 
existingEmployee66 
=66 
_context66  (
.66( )
	Employees66) 2
.662 3
Find663 7
(667 8
id668 :
)66: ;
;66; <
if77	 
(77 
existingEmployee77 
==77  
null77! %
)77% &
return88 
NotFound88 
(88 
)88 
;88 
existingEmployee;;	 
.;; 
	FirstName;; #
=;;$ %
updatedEmployee;;& 5
.;;5 6
	FirstName;;6 ?
;;;? @
existingEmployee<<	 
.<< 
lastName<< "
=<<# $
updatedEmployee<<% 4
.<<4 5
lastName<<5 =
;<<= >
existingEmployee==	 
.== 
Position== "
===# $
updatedEmployee==% 4
.==4 5
Position==5 =
;=== >
existingEmployee??	 
.?? 
Email?? 
=??  !
updatedEmployee??" 1
.??1 2
Email??2 7
;??7 8
existingEmployee@@	 
.@@ 
Age@@ 
=@@ 
updatedEmployee@@  /
.@@/ 0
Age@@0 3
;@@3 4
existingEmployeeAA	 
.AA 
PhoneAA 
=AA  !
updatedEmployeeAA" 1
.AA1 2
PhoneAA2 7
;AA7 8
existingEmployeeBB	 
.BB 
AddressBB !
=BB" #
updatedEmployeeBB$ 3
.BB3 4
AddressBB4 ;
;BB; <
existingEmployeeCC	 
.CC 
CityCC 
=CC  
updatedEmployeeCC! 0
.CC0 1
CityCC1 5
;CC5 6
existingEmployeeDD	 
.DD 
StateDD 
=DD  !
updatedEmployeeDD" 1
.DD1 2
StateDD2 7
;DD7 8
_contextFF	 
.FF 
SaveChangesFF 
(FF 
)FF 
;FF  
returnGG	 
	NoContentGG 
(GG 
)GG 
;GG 
}HH 
[JJ 
	HttpPatchJJ 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
IActionResultKK 
PartialUpdateKK '
(KK' (
intKK( +
idKK, .
,KK. /
[KK0 1
FromBodyKK1 9
]KK9 :
JsonPatchDocumentKK; L
<KKL M
employeeModelKKM Z
>KKZ [
patchDocKK\ d
)KKd e
{KKe f
ifLL 

(LL
 
patchDocLL 
==LL 
nullLL 
||LL 
idLL 
<=LL !
$numLL! "
)LL" #
{LL# $

BadRequestMM 
(MM 
)MM 
;MM 
}NN 	
varOO 
existingEmployeeOO 
=OO 
_contextOO '
.OO' (
	EmployeesOO( 1
.OO1 2
WhereOO2 7
(OO7 8
sOO8 9
=>OO: <
sOO= >
.OO> ?
IdOO? A
==OOB D
idOOE G
)OOG H
.OOH I
FirstOrDefaultOOI W
(OOW X
)OOX Y
;OOY Z
ifPP 

(PP
 
existingEmployeePP 
==PP 
nullPP #
)PP# $
{PP$ %
returnQQ 
NotFoundQQ 
(QQ 
)QQ 
;QQ 
}RR 	
varSS 
empSS 
=SS 
newSS 
employeeModelSS #
{SS# $
IdTT 
=TT 
existingEmployeeTT !
.TT! "
IdTT" $
,TT$ %
	FirstNameUU 
=UU 
existingEmployeeUU (
.UU( )
	FirstNameUU) 2
,UU2 3
lastNameVV 
=VV 
existingEmployeeVV '
.VV' (
lastNameVV( 0
,VV0 1
PositionWW 
=WW 
existingEmployeeWW '
.WW' (
PositionWW( 0
,WW0 1
}XX 	
;XX	 

ifZZ 

(ZZ
 
patchDocZZ 
!=ZZ 
nullZZ 
)ZZ 
{ZZ 
patchDoc[[ 
.[[ 
ApplyTo[[ 
([[ 
emp[[  
,[[  !

ModelState[[" ,
)[[, -
;[[- .
}\\ 	
if^^ 

(^^
 

ModelState^^ 
.^^ 
IsValid^^ 
)^^ 
{^^ 
return__ 

BadRequest__ 
(__ 

ModelState__ (
)__( )
;__) *
}`` 	
existingEmployeeaa 
.aa 
	FirstNameaa "
=aa# $
empaa% (
.aa( )
	FirstNameaa) 2
;aa2 3
existingEmployeebb 
.bb 
lastNamebb !
=bb" #
empbb$ '
.bb' (
lastNamebb( 0
;bb0 1
existingEmployeecc 
.cc 
Positioncc !
=cc" #
empcc$ '
.cc' (
Positioncc( 0
;cc0 1
_contextdd 
.dd 
SaveChangesdd 
(dd 
)dd 
;dd 
returnee 
	NoContentee 
(ee 
)ee 
;ee 
}ff 
[ii 

HttpDeleteii 
(ii 
$strii 
)ii 
]ii 
publicjj 
IActionResultjj 
Deletejj  
(jj  !
intjj! $
idjj% '
)jj' (
{kk 
varll	 
employeeToRemovell 
=ll 
_contextll  (
.ll( )
	Employeesll) 2
.ll2 3
Findll3 7
(ll7 8
idll8 :
)ll: ;
;ll; <
ifmm	 
(mm 
employeeToRemovemm 
==mm  
nullmm! %
)mm% &
returnnn 
NotFoundnn 
(nn 
)nn 
;nn 
_contextqq	 
.qq 
	Employeesqq 
.qq 
Removeqq "
(qq" #
employeeToRemoveqq# 3
)qq3 4
;qq4 5
_contextrr	 
.rr 
SaveChangesrr 
(rr 
)rr 
;rr  
returnss	 
	NoContentss 
(ss 
)ss 
;ss 
}tt 
}uu ú
UD:\dotnet\MVC projects\EmployeeManagementMicro\EmployeeManagementApi\EmployeeModel.cs
public 
class 
employeeModel 
{ 
public	 
int 
Id 
{ 
get 
; 
set !
;! "
}# $
public	 
string 
	FirstName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public	 
string 
? 
lastName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public	 
string 
? 
Position  
{! "
get# &
;& '
set( +
;+ ,
}- .
public	 
string 
? 
Email 
{ 
get  #
;# $
set% (
;( )
}* +
public			 
int		 
?		 
Age		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public

	 
string

 
Phone

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public	 
string 
? 
Address 
{  !
get" %
;% &
set' *
;* +
}, -
public	 
string 
City 
{ 
get !
;! "
set# &
;& '
}( )
public	 
string 
State 
{ 
get "
;" #
set$ '
;' (
}) *
} ß
gD:\dotnet\MVC projects\EmployeeManagementMicro\EmployeeManagementApi\Migrations\20231227064923_check.cs
	namespace 	!
EmployeeManagementApi
 
.  

Migrations  *
{ 
public		 

partial		 
class		 
check		 
:		  
	Migration		! *
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
;7 8
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ C
,C D(
MySqlValueGenerationStrategyE a
.a b
IdentityColumnb p
)p q
,q r
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; E
,E F
nullableG O
:O P
trueQ U
)U V
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: D
,D E
nullableF N
:N O
trueP T
)T U
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
Position 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: D
,D E
nullableF N
:N O
trueP T
)T U
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 3
,  3 4
x  5 6
=>  7 9
x  : ;
.  ; <
Id  < >
)  > ?
;  ? @
}!! 
)!! 
."" 

Annotation"" 
("" 
$str"" +
,""+ ,
$str""- 6
)""6 7
;""7 8
}## 	
	protected&& 
override&& 
void&& 
Down&&  $
(&&$ %
MigrationBuilder&&% 5
migrationBuilder&&6 F
)&&F G
{'' 	
migrationBuilder(( 
.(( 
	DropTable(( &
(((& '
name)) 
:)) 
$str)) !
)))! "
;))" #
}** 	
}++ 
},, Í
OD:\dotnet\MVC projects\EmployeeManagementMicro\EmployeeManagementApi\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
var 
services 
= 
builder 
. 
Services 
;  
builder		 
.		 
Services		 
.		 
AddControllers		 
(		  
)		  !
.		! "
AddNewtonsoftJson		" 3
(		3 4
)		4 5
;		5 6
builder

 
.

 
Services

 
.

 #
AddEndpointsApiExplorer

 (
(

( )
)

) *
;

* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 
options 
. 
	AddPolicy 
( 
$str "
," #
builder$ +
=>, .
builder/ 6
. 	
WithOrigins	 
( 
$str ,
), -
. 	
AllowAnyMethod	 
( 
) 
. 	
AllowAnyHeader	 
( 
) 
) 
; 
} 
) 
; 
services 
. 	
AddDbContext	 
< 
AppDbContext "
>" #
(# $
options$ +
=>, .
options 
. 
UseMySql 
( 
$str V
,V W
newX [
MySqlServerVersion\ n
(n o
newo r
Versions z
(z {
){ |
)| }
)} ~
)~ 
;	 €
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. %
UseDeveloperExceptionPage !
(! "
)" #
;# $
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
c 
=> 
{ 
c 	
.	 

SwaggerEndpoint
 
( 
$str 4
,4 5
$str5 O
)O P
;P Q
} 
) 
; 
}   
app"" 
."" 
UseHttpsRedirection"" 
("" 
)"" 
;"" 
app## 
.## 
UseCors## 
(## 
$str## 
)## 
;## 
app$$ 
.$$ 
UseAuthorization$$ 
($$ 
)$$ 
;$$ 
app&& 
.&& 
MapControllers&& 
(&& 
)&& 
;&& 
app'' 
.'' 
Run'' 
('' 
)'' 	
;''	 
